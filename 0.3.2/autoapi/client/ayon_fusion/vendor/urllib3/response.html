<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=prev href=request.html><link rel=next href=util/index.html><link rel=icon href=../../../../../img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.9"><title>response - ayon-fusion</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.4af4bdda.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><script src=https://unpkg.com/iframe-worker/shim></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../css/custom.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#client.ayon_fusion.vendor.urllib3.response class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../../index.html title=ayon-fusion class="md-header__button md-logo" aria-label=ayon-fusion data-md-component=logo> <img src=../../../../../img/ay-symbol-blackw-full.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ayon-fusion </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> response </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ynput/ayon-fusion title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../../index.html title=ayon-fusion class="md-nav__button md-logo" aria-label=ayon-fusion data-md-component=logo> <img src=../../../../../img/ay-symbol-blackw-full.png alt=logo> </a> ayon-fusion </label> <div class=md-nav__source> <a href=https://github.com/ynput/ayon-fusion title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../../../license.html class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> client </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> client </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1 checked> <div class="md-nav__link md-nav__container"> <a href=../../index.html class="md-nav__link "> <span class=md-ellipsis> ayon_fusion </span> </a> <label class="md-nav__link " for=__nav_3_1_1 id=__nav_3_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1> <span class="md-nav__icon md-icon"></span> ayon_fusion </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../addon.html class=md-nav__link> <span class=md-ellipsis> addon </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../api/action.html class=md-nav__link> <span class=md-ellipsis> api </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../deploy/MenuScripts/install_pyside2.html class=md-nav__link> <span class=md-ellipsis> deploy </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../hooks/pre_fusion_launch_menu_hook.html class=md-nav__link> <span class=md-ellipsis> hooks </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../plugins/create/create_image_saver.html class=md-nav__link> <span class=md-ellipsis> plugins </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../scripts/duplicate_with_inputs.html class=md-nav__link> <span class=md-ellipsis> scripts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_7 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> vendor </span> </a> <label class="md-nav__link " for=__nav_3_1_1_7 id=__nav_3_1_1_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_1_1_7_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_7> <span class="md-nav__icon md-icon"></span> vendor </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../attr/_cmp.html class=md-nav__link> <span class=md-ellipsis> attr </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_7_2 checked> <div class="md-nav__link md-nav__container"> <a href=index.html class="md-nav__link "> <span class=md-ellipsis> urllib3 </span> </a> <label class="md-nav__link " for=__nav_3_1_1_7_2 id=__nav_3_1_1_7_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_1_1_7_2_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_7_2> <span class="md-nav__icon md-icon"></span> urllib3 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=_collections.html class=md-nav__link> <span class=md-ellipsis> _collections </span> </a> </li> <li class=md-nav__item> <a href=_version.html class=md-nav__link> <span class=md-ellipsis> _version </span> </a> </li> <li class=md-nav__item> <a href=connection.html class=md-nav__link> <span class=md-ellipsis> connection </span> </a> </li> <li class=md-nav__item> <a href=connectionpool.html class=md-nav__link> <span class=md-ellipsis> connectionpool </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=contrib/_appengine_environ.html class=md-nav__link> <span class=md-ellipsis> contrib </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=exceptions.html class=md-nav__link> <span class=md-ellipsis> exceptions </span> </a> </li> <li class=md-nav__item> <a href=fields.html class=md-nav__link> <span class=md-ellipsis> fields </span> </a> </li> <li class=md-nav__item> <a href=filepost.html class=md-nav__link> <span class=md-ellipsis> filepost </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=packages/backports/makefile.html class=md-nav__link> <span class=md-ellipsis> packages </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=poolmanager.html class=md-nav__link> <span class=md-ellipsis> poolmanager </span> </a> </li> <li class=md-nav__item> <a href=request.html class=md-nav__link> <span class=md-ellipsis> request </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> response </span> <span class="md-nav__icon md-icon"></span> </label> <a href=response.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> response </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response class=md-nav__link> <span class=md-ellipsis> response </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse class=md-nav__link> <span class=md-ellipsis> HTTPResponse </span> </a> <nav class=md-nav aria-label=HTTPResponse> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.drain_conn class=md-nav__link> <span class=md-ellipsis> drain_conn </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.from_httplib class=md-nav__link> <span class=md-ellipsis> from_httplib </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.get_redirect_location class=md-nav__link> <span class=md-ellipsis> get_redirect_location </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.geturl class=md-nav__link> <span class=md-ellipsis> geturl </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.read class=md-nav__link> <span class=md-ellipsis> read </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.read_chunked class=md-nav__link> <span class=md-ellipsis> read_chunked </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.stream class=md-nav__link> <span class=md-ellipsis> stream </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.supports_chunked_reads class=md-nav__link> <span class=md-ellipsis> supports_chunked_reads </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.tell class=md-nav__link> <span class=md-ellipsis> tell </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.MultiDecoder class=md-nav__link> <span class=md-ellipsis> MultiDecoder </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=util/connection.html class=md-nav__link> <span class=md-ellipsis> util </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../version.html class=md-nav__link> <span class=md-ellipsis> version </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../server/imageio.html class=md-nav__link> <span class=md-ellipsis> server </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response class=md-nav__link> <span class=md-ellipsis> response </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse class=md-nav__link> <span class=md-ellipsis> HTTPResponse </span> </a> <nav class=md-nav aria-label=HTTPResponse> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.drain_conn class=md-nav__link> <span class=md-ellipsis> drain_conn </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.from_httplib class=md-nav__link> <span class=md-ellipsis> from_httplib </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.get_redirect_location class=md-nav__link> <span class=md-ellipsis> get_redirect_location </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.geturl class=md-nav__link> <span class=md-ellipsis> geturl </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.read class=md-nav__link> <span class=md-ellipsis> read </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.read_chunked class=md-nav__link> <span class=md-ellipsis> read_chunked </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.stream class=md-nav__link> <span class=md-ellipsis> stream </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.supports_chunked_reads class=md-nav__link> <span class=md-ellipsis> supports_chunked_reads </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.HTTPResponse.tell class=md-nav__link> <span class=md-ellipsis> tell </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_fusion.vendor.urllib3.response.MultiDecoder class=md-nav__link> <span class=md-ellipsis> MultiDecoder </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>response</h1> <div class="doc doc-object doc-module"> <a id=client.ayon_fusion.vendor.urllib3.response></a> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse class="doc doc-heading"> <code>HTTPResponse</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=io.IOBase>IOBase</span></code></p> <p>HTTP Response container.</p> <p>Backwards-compatible with :class:<code>http.client.HTTPResponse</code> but the response <code>body</code> is loaded and decoded on-demand when the <code>data</code> property is accessed. This class is also compatible with the Python standard library's :mod:<code>io</code> module, and can hence be treated as a readable object in the context of that framework.</p> <p>Extra parameters for behaviour not present in :class:<code>http.client.HTTPResponse</code>:</p> <p>:param preload_content: If True, the response's body will be preloaded during construction.</p> <p>:param decode_content: If True, will attempt to decode the body based on the 'content-encoding' header.</p> <p>:param original_response: When this HTTPResponse wrapper is generated from an :class:<code>http.client.HTTPResponse</code> object, it's convenient to include the original for debug purposes. It's otherwise unused.</p> <p>:param retries: The retries contains the last :class:<code>~urllib3.util.retry.Retry</code> that was used during the request.</p> <p>:param enforce_content_length: Enforce content length checking. Body returned by server must match value of Content-Length header, if present. Otherwise, raise error.</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span>
<span class=normal>588</span>
<span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span>
<span class=normal>614</span>
<span class=normal>615</span>
<span class=normal>616</span>
<span class=normal>617</span>
<span class=normal>618</span>
<span class=normal>619</span>
<span class=normal>620</span>
<span class=normal>621</span>
<span class=normal>622</span>
<span class=normal>623</span>
<span class=normal>624</span>
<span class=normal>625</span>
<span class=normal>626</span>
<span class=normal>627</span>
<span class=normal>628</span>
<span class=normal>629</span>
<span class=normal>630</span>
<span class=normal>631</span>
<span class=normal>632</span>
<span class=normal>633</span>
<span class=normal>634</span>
<span class=normal>635</span>
<span class=normal>636</span>
<span class=normal>637</span>
<span class=normal>638</span>
<span class=normal>639</span>
<span class=normal>640</span>
<span class=normal>641</span>
<span class=normal>642</span>
<span class=normal>643</span>
<span class=normal>644</span>
<span class=normal>645</span>
<span class=normal>646</span>
<span class=normal>647</span>
<span class=normal>648</span>
<span class=normal>649</span>
<span class=normal>650</span>
<span class=normal>651</span>
<span class=normal>652</span>
<span class=normal>653</span>
<span class=normal>654</span>
<span class=normal>655</span>
<span class=normal>656</span>
<span class=normal>657</span>
<span class=normal>658</span>
<span class=normal>659</span>
<span class=normal>660</span>
<span class=normal>661</span>
<span class=normal>662</span>
<span class=normal>663</span>
<span class=normal>664</span>
<span class=normal>665</span>
<span class=normal>666</span>
<span class=normal>667</span>
<span class=normal>668</span>
<span class=normal>669</span>
<span class=normal>670</span>
<span class=normal>671</span>
<span class=normal>672</span>
<span class=normal>673</span>
<span class=normal>674</span>
<span class=normal>675</span>
<span class=normal>676</span>
<span class=normal>677</span>
<span class=normal>678</span>
<span class=normal>679</span>
<span class=normal>680</span>
<span class=normal>681</span>
<span class=normal>682</span>
<span class=normal>683</span>
<span class=normal>684</span>
<span class=normal>685</span>
<span class=normal>686</span>
<span class=normal>687</span>
<span class=normal>688</span>
<span class=normal>689</span>
<span class=normal>690</span>
<span class=normal>691</span>
<span class=normal>692</span>
<span class=normal>693</span>
<span class=normal>694</span>
<span class=normal>695</span>
<span class=normal>696</span>
<span class=normal>697</span>
<span class=normal>698</span>
<span class=normal>699</span>
<span class=normal>700</span>
<span class=normal>701</span>
<span class=normal>702</span>
<span class=normal>703</span>
<span class=normal>704</span>
<span class=normal>705</span>
<span class=normal>706</span>
<span class=normal>707</span>
<span class=normal>708</span>
<span class=normal>709</span>
<span class=normal>710</span>
<span class=normal>711</span>
<span class=normal>712</span>
<span class=normal>713</span>
<span class=normal>714</span>
<span class=normal>715</span>
<span class=normal>716</span>
<span class=normal>717</span>
<span class=normal>718</span>
<span class=normal>719</span>
<span class=normal>720</span>
<span class=normal>721</span>
<span class=normal>722</span>
<span class=normal>723</span>
<span class=normal>724</span>
<span class=normal>725</span>
<span class=normal>726</span>
<span class=normal>727</span>
<span class=normal>728</span>
<span class=normal>729</span>
<span class=normal>730</span>
<span class=normal>731</span>
<span class=normal>732</span>
<span class=normal>733</span>
<span class=normal>734</span>
<span class=normal>735</span>
<span class=normal>736</span>
<span class=normal>737</span>
<span class=normal>738</span>
<span class=normal>739</span>
<span class=normal>740</span>
<span class=normal>741</span>
<span class=normal>742</span>
<span class=normal>743</span>
<span class=normal>744</span>
<span class=normal>745</span>
<span class=normal>746</span>
<span class=normal>747</span>
<span class=normal>748</span>
<span class=normal>749</span>
<span class=normal>750</span>
<span class=normal>751</span>
<span class=normal>752</span>
<span class=normal>753</span>
<span class=normal>754</span>
<span class=normal>755</span>
<span class=normal>756</span>
<span class=normal>757</span>
<span class=normal>758</span>
<span class=normal>759</span>
<span class=normal>760</span>
<span class=normal>761</span>
<span class=normal>762</span>
<span class=normal>763</span>
<span class=normal>764</span>
<span class=normal>765</span>
<span class=normal>766</span>
<span class=normal>767</span>
<span class=normal>768</span>
<span class=normal>769</span>
<span class=normal>770</span>
<span class=normal>771</span>
<span class=normal>772</span>
<span class=normal>773</span>
<span class=normal>774</span>
<span class=normal>775</span>
<span class=normal>776</span>
<span class=normal>777</span>
<span class=normal>778</span>
<span class=normal>779</span>
<span class=normal>780</span>
<span class=normal>781</span>
<span class=normal>782</span>
<span class=normal>783</span>
<span class=normal>784</span>
<span class=normal>785</span>
<span class=normal>786</span>
<span class=normal>787</span>
<span class=normal>788</span>
<span class=normal>789</span>
<span class=normal>790</span>
<span class=normal>791</span>
<span class=normal>792</span>
<span class=normal>793</span>
<span class=normal>794</span>
<span class=normal>795</span>
<span class=normal>796</span>
<span class=normal>797</span>
<span class=normal>798</span>
<span class=normal>799</span>
<span class=normal>800</span>
<span class=normal>801</span>
<span class=normal>802</span>
<span class=normal>803</span>
<span class=normal>804</span>
<span class=normal>805</span>
<span class=normal>806</span>
<span class=normal>807</span>
<span class=normal>808</span>
<span class=normal>809</span>
<span class=normal>810</span>
<span class=normal>811</span>
<span class=normal>812</span>
<span class=normal>813</span>
<span class=normal>814</span>
<span class=normal>815</span>
<span class=normal>816</span>
<span class=normal>817</span>
<span class=normal>818</span>
<span class=normal>819</span>
<span class=normal>820</span>
<span class=normal>821</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>HTTPResponse</span><span class=p>(</span><span class=n>io</span><span class=o>.</span><span class=n>IOBase</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    HTTP Response container.</span>

<span class=sd>    Backwards-compatible with :class:`http.client.HTTPResponse` but the response ``body`` is</span>
<span class=sd>    loaded and decoded on-demand when the ``data`` property is accessed.  This</span>
<span class=sd>    class is also compatible with the Python standard library&#39;s :mod:`io`</span>
<span class=sd>    module, and can hence be treated as a readable object in the context of that</span>
<span class=sd>    framework.</span>

<span class=sd>    Extra parameters for behaviour not present in :class:`http.client.HTTPResponse`:</span>

<span class=sd>    :param preload_content:</span>
<span class=sd>        If True, the response&#39;s body will be preloaded during construction.</span>

<span class=sd>    :param decode_content:</span>
<span class=sd>        If True, will attempt to decode the body based on the</span>
<span class=sd>        &#39;content-encoding&#39; header.</span>

<span class=sd>    :param original_response:</span>
<span class=sd>        When this HTTPResponse wrapper is generated from an :class:`http.client.HTTPResponse`</span>
<span class=sd>        object, it&#39;s convenient to include the original for debug purposes. It&#39;s</span>
<span class=sd>        otherwise unused.</span>

<span class=sd>    :param retries:</span>
<span class=sd>        The retries contains the last :class:`~urllib3.util.retry.Retry` that</span>
<span class=sd>        was used during the request.</span>

<span class=sd>    :param enforce_content_length:</span>
<span class=sd>        Enforce content length checking. Body returned by server must match</span>
<span class=sd>        value of Content-Length header, if present. Otherwise, raise error.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>CONTENT_DECODERS</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;gzip&quot;</span><span class=p>,</span> <span class=s2>&quot;deflate&quot;</span><span class=p>]</span>
    <span class=k>if</span> <span class=n>brotli</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>CONTENT_DECODERS</span> <span class=o>+=</span> <span class=p>[</span><span class=s2>&quot;br&quot;</span><span class=p>]</span>
    <span class=n>REDIRECT_STATUSES</span> <span class=o>=</span> <span class=p>[</span><span class=mi>301</span><span class=p>,</span> <span class=mi>302</span><span class=p>,</span> <span class=mi>303</span><span class=p>,</span> <span class=mi>307</span><span class=p>,</span> <span class=mi>308</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span>
        <span class=n>body</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>,</span>
        <span class=n>headers</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>status</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
        <span class=n>version</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
        <span class=n>reason</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>strict</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
        <span class=n>preload_content</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
        <span class=n>decode_content</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
        <span class=n>original_response</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>pool</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>connection</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>msg</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>retries</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>enforce_content_length</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
        <span class=n>request_method</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>request_url</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>auto_close</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
    <span class=p>):</span>

        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>headers</span><span class=p>,</span> <span class=n>HTTPHeaderDict</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>headers</span> <span class=o>=</span> <span class=n>headers</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>headers</span> <span class=o>=</span> <span class=n>HTTPHeaderDict</span><span class=p>(</span><span class=n>headers</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=n>status</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>version</span> <span class=o>=</span> <span class=n>version</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>reason</span> <span class=o>=</span> <span class=n>reason</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>strict</span> <span class=o>=</span> <span class=n>strict</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>decode_content</span> <span class=o>=</span> <span class=n>decode_content</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>retries</span> <span class=o>=</span> <span class=n>retries</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>enforce_content_length</span> <span class=o>=</span> <span class=n>enforce_content_length</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>auto_close</span> <span class=o>=</span> <span class=n>auto_close</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_decoder</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_body</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span> <span class=o>=</span> <span class=n>original_response</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_fp_bytes_read</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>msg</span> <span class=o>=</span> <span class=n>msg</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_request_url</span> <span class=o>=</span> <span class=n>request_url</span>

        <span class=k>if</span> <span class=n>body</span> <span class=ow>and</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>body</span><span class=p>,</span> <span class=p>(</span><span class=n>six</span><span class=o>.</span><span class=n>string_types</span><span class=p>,</span> <span class=nb>bytes</span><span class=p>)):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_body</span> <span class=o>=</span> <span class=n>body</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_pool</span> <span class=o>=</span> <span class=n>pool</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=o>=</span> <span class=n>connection</span>

        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>body</span><span class=p>,</span> <span class=s2>&quot;read&quot;</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span> <span class=o>=</span> <span class=n>body</span>

        <span class=c1># Are we using the chunked-style of transfer encoding?</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>chunked</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=n>tr_enc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;transfer-encoding&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
        <span class=c1># Don&#39;t incur the penalty of creating a list and then discarding it</span>
        <span class=n>encodings</span> <span class=o>=</span> <span class=p>(</span><span class=n>enc</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span> <span class=k>for</span> <span class=n>enc</span> <span class=ow>in</span> <span class=n>tr_enc</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;,&quot;</span><span class=p>))</span>
        <span class=k>if</span> <span class=s2>&quot;chunked&quot;</span> <span class=ow>in</span> <span class=n>encodings</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>chunked</span> <span class=o>=</span> <span class=kc>True</span>

        <span class=c1># Determine length of response</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>length_remaining</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_init_length</span><span class=p>(</span><span class=n>request_method</span><span class=p>)</span>

        <span class=c1># If requested, preload the body.</span>
        <span class=k>if</span> <span class=n>preload_content</span> <span class=ow>and</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_body</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_body</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>decode_content</span><span class=o>=</span><span class=n>decode_content</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_redirect_location</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Should we redirect and where to?</span>

<span class=sd>        :returns: Truthy redirect location string if we got a redirect status</span>
<span class=sd>            code and valid location. ``None`` if redirect status and no</span>
<span class=sd>            location. ``False`` if not a redirect status code.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>status</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>REDIRECT_STATUSES</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;location&quot;</span><span class=p>)</span>

        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>def</span><span class=w> </span><span class=nf>release_conn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_pool</span> <span class=ow>or</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_pool</span><span class=o>.</span><span class=n>_put_conn</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_connection</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>drain_conn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Read and discard any remaining HTTP response data in the response connection.</span>

<span class=sd>        Unread data in the HTTPResponse connection blocks the connection from being released back to the pool.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
        <span class=k>except</span> <span class=p>(</span><span class=n>HTTPError</span><span class=p>,</span> <span class=n>SocketError</span><span class=p>,</span> <span class=n>BaseSSLError</span><span class=p>,</span> <span class=n>HTTPException</span><span class=p>):</span>
            <span class=k>pass</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># For backwards-compat with earlier urllib3 0.4 and earlier.</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_body</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_body</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>cache_content</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>connection</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span>

    <span class=k>def</span><span class=w> </span><span class=nf>isclosed</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>is_fp_closed</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>tell</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Obtain the number of bytes pulled over the wire so far. May differ from</span>
<span class=sd>        the amount of content returned by :meth:``urllib3.response.HTTPResponse.read``</span>
<span class=sd>        if bytes are encoded on the wire (e.g, compressed).</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp_bytes_read</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_init_length</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request_method</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Set initial length value for Response content if available.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>length</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;content-length&quot;</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>length</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunked</span><span class=p>:</span>
                <span class=c1># This Response will fail with an IncompleteRead if it can&#39;t be</span>
                <span class=c1># received as chunked. This method falls back to attempt reading</span>
                <span class=c1># the response before raising an exception.</span>
                <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
                    <span class=s2>&quot;Received response with both Content-Length and &quot;</span>
                    <span class=s2>&quot;Transfer-Encoding set. This is expressly forbidden &quot;</span>
                    <span class=s2>&quot;by RFC 7230 sec 3.3.2. Ignoring Content-Length and &quot;</span>
                    <span class=s2>&quot;attempting to process response as Transfer-Encoding: &quot;</span>
                    <span class=s2>&quot;chunked.&quot;</span>
                <span class=p>)</span>
                <span class=k>return</span> <span class=kc>None</span>

            <span class=k>try</span><span class=p>:</span>
                <span class=c1># RFC 7230 section 3.3.2 specifies multiple content lengths can</span>
                <span class=c1># be sent in a single Content-Length header</span>
                <span class=c1># (e.g. Content-Length: 42, 42). This line ensures the values</span>
                <span class=c1># are all valid ints and that as long as the `set` length is 1,</span>
                <span class=c1># all values are the same. Otherwise, the header is invalid.</span>
                <span class=n>lengths</span> <span class=o>=</span> <span class=nb>set</span><span class=p>([</span><span class=nb>int</span><span class=p>(</span><span class=n>val</span><span class=p>)</span> <span class=k>for</span> <span class=n>val</span> <span class=ow>in</span> <span class=n>length</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;,&quot;</span><span class=p>)])</span>
                <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>lengths</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
                    <span class=k>raise</span> <span class=n>InvalidHeader</span><span class=p>(</span>
                        <span class=s2>&quot;Content-Length contained multiple &quot;</span>
                        <span class=s2>&quot;unmatching values (</span><span class=si>%s</span><span class=s2>)&quot;</span> <span class=o>%</span> <span class=n>length</span>
                    <span class=p>)</span>
                <span class=n>length</span> <span class=o>=</span> <span class=n>lengths</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
            <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
                <span class=n>length</span> <span class=o>=</span> <span class=kc>None</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>length</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
                    <span class=n>length</span> <span class=o>=</span> <span class=kc>None</span>

        <span class=c1># Convert status to int for comparison</span>
        <span class=c1># In some cases, httplib returns a status of &quot;_UNKNOWN&quot;</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>status</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>status</span><span class=p>)</span>
        <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
            <span class=n>status</span> <span class=o>=</span> <span class=mi>0</span>

        <span class=c1># Check for responses that shouldn&#39;t include a body</span>
        <span class=k>if</span> <span class=n>status</span> <span class=ow>in</span> <span class=p>(</span><span class=mi>204</span><span class=p>,</span> <span class=mi>304</span><span class=p>)</span> <span class=ow>or</span> <span class=mi>100</span> <span class=o>&lt;=</span> <span class=n>status</span> <span class=o>&lt;</span> <span class=mi>200</span> <span class=ow>or</span> <span class=n>request_method</span> <span class=o>==</span> <span class=s2>&quot;HEAD&quot;</span><span class=p>:</span>
            <span class=n>length</span> <span class=o>=</span> <span class=mi>0</span>

        <span class=k>return</span> <span class=n>length</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_init_decoder</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Set-up the _decoder attribute if necessary.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># Note: content-encoding value should be case-insensitive, per RFC 7230</span>
        <span class=c1># Section 3.2</span>
        <span class=n>content_encoding</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;content-encoding&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decoder</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>content_encoding</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>CONTENT_DECODERS</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_decoder</span> <span class=o>=</span> <span class=n>_get_decoder</span><span class=p>(</span><span class=n>content_encoding</span><span class=p>)</span>
            <span class=k>elif</span> <span class=s2>&quot;,&quot;</span> <span class=ow>in</span> <span class=n>content_encoding</span><span class=p>:</span>
                <span class=n>encodings</span> <span class=o>=</span> <span class=p>[</span>
                    <span class=n>e</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
                    <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>content_encoding</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;,&quot;</span><span class=p>)</span>
                    <span class=k>if</span> <span class=n>e</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>CONTENT_DECODERS</span>
                <span class=p>]</span>
                <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>encodings</span><span class=p>):</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>_decoder</span> <span class=o>=</span> <span class=n>_get_decoder</span><span class=p>(</span><span class=n>content_encoding</span><span class=p>)</span>

    <span class=n>DECODER_ERROR_CLASSES</span> <span class=o>=</span> <span class=p>(</span><span class=ne>IOError</span><span class=p>,</span> <span class=n>zlib</span><span class=o>.</span><span class=n>error</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>brotli</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>DECODER_ERROR_CLASSES</span> <span class=o>+=</span> <span class=p>(</span><span class=n>brotli</span><span class=o>.</span><span class=n>error</span><span class=p>,)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_decode</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>decode_content</span><span class=p>,</span> <span class=n>flush_decoder</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Decode the data passed in and potentially flush the decoder.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>decode_content</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>data</span>

        <span class=k>try</span><span class=p>:</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decoder</span><span class=p>:</span>
                <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decoder</span><span class=o>.</span><span class=n>decompress</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
        <span class=k>except</span> <span class=bp>self</span><span class=o>.</span><span class=n>DECODER_ERROR_CLASSES</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
            <span class=n>content_encoding</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;content-encoding&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
            <span class=k>raise</span> <span class=n>DecodeError</span><span class=p>(</span>
                <span class=s2>&quot;Received response with content-encoding: </span><span class=si>%s</span><span class=s2>, but &quot;</span>
                <span class=s2>&quot;failed to decode it.&quot;</span> <span class=o>%</span> <span class=n>content_encoding</span><span class=p>,</span>
                <span class=n>e</span><span class=p>,</span>
            <span class=p>)</span>
        <span class=k>if</span> <span class=n>flush_decoder</span><span class=p>:</span>
            <span class=n>data</span> <span class=o>+=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_flush_decoder</span><span class=p>()</span>

        <span class=k>return</span> <span class=n>data</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_flush_decoder</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Flushes the decoder. Should only be called if the decoder is actually</span>
<span class=sd>        being used.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decoder</span><span class=p>:</span>
            <span class=n>buf</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decoder</span><span class=o>.</span><span class=n>decompress</span><span class=p>(</span><span class=sa>b</span><span class=s2>&quot;&quot;</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>buf</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decoder</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>

        <span class=k>return</span> <span class=sa>b</span><span class=s2>&quot;&quot;</span>

    <span class=nd>@contextmanager</span>
    <span class=k>def</span><span class=w> </span><span class=nf>_error_catcher</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Catch low-level python exceptions, instead re-raising urllib3</span>
<span class=sd>        variants, so that low-level exceptions are not leaked in the</span>
<span class=sd>        high-level api.</span>

<span class=sd>        On exit, release the connection back to the pool.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>clean_exit</span> <span class=o>=</span> <span class=kc>False</span>

        <span class=k>try</span><span class=p>:</span>
            <span class=k>try</span><span class=p>:</span>
                <span class=k>yield</span>

            <span class=k>except</span> <span class=n>SocketTimeout</span><span class=p>:</span>
                <span class=c1># FIXME: Ideally we&#39;d like to include the url in the ReadTimeoutError but</span>
                <span class=c1># there is yet no clean way to get at it from this context.</span>
                <span class=k>raise</span> <span class=n>ReadTimeoutError</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_pool</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&quot;Read timed out.&quot;</span><span class=p>)</span>

            <span class=k>except</span> <span class=n>BaseSSLError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
                <span class=c1># FIXME: Is there a better way to differentiate between SSLErrors?</span>
                <span class=k>if</span> <span class=s2>&quot;read operation timed out&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>):</span>
                    <span class=c1># SSL errors related to framing/MAC get wrapped and reraised here</span>
                    <span class=k>raise</span> <span class=n>SSLError</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>

                <span class=k>raise</span> <span class=n>ReadTimeoutError</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_pool</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&quot;Read timed out.&quot;</span><span class=p>)</span>

            <span class=k>except</span> <span class=p>(</span><span class=n>HTTPException</span><span class=p>,</span> <span class=n>SocketError</span><span class=p>)</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
                <span class=c1># This includes IncompleteRead.</span>
                <span class=k>raise</span> <span class=n>ProtocolError</span><span class=p>(</span><span class=s2>&quot;Connection broken: </span><span class=si>%r</span><span class=s2>&quot;</span> <span class=o>%</span> <span class=n>e</span><span class=p>,</span> <span class=n>e</span><span class=p>)</span>

            <span class=c1># If no exception is thrown, we should avoid cleaning up</span>
            <span class=c1># unnecessarily.</span>
            <span class=n>clean_exit</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=k>finally</span><span class=p>:</span>
            <span class=c1># If we didn&#39;t terminate cleanly, we need to throw away our</span>
            <span class=c1># connection.</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>clean_exit</span><span class=p>:</span>
                <span class=c1># The response may not be closed but we&#39;re not going to use it</span>
                <span class=c1># anymore so close it now to ensure that the connection is</span>
                <span class=c1># released back to the pool.</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=p>:</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

                <span class=c1># Closing the response may not actually be sufficient to close</span>
                <span class=c1># everything, so if we have a hold of the connection close that</span>
                <span class=c1># too.</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span><span class=p>:</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

            <span class=c1># If we hold the original response but it&#39;s closed now, we should</span>
            <span class=c1># return the connection back to the pool.</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=o>.</span><span class=n>isclosed</span><span class=p>():</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>release_conn</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>read</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amt</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>cache_content</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Similar to :meth:`http.client.HTTPResponse.read`, but with two additional</span>
<span class=sd>        parameters: ``decode_content`` and ``cache_content``.</span>

<span class=sd>        :param amt:</span>
<span class=sd>            How much of the content to read. If specified, caching is skipped</span>
<span class=sd>            because it doesn&#39;t make sense to cache partial content as the full</span>
<span class=sd>            response.</span>

<span class=sd>        :param decode_content:</span>
<span class=sd>            If True, will attempt to decode the body based on the</span>
<span class=sd>            &#39;content-encoding&#39; header.</span>

<span class=sd>        :param cache_content:</span>
<span class=sd>            If True, will save the returned data such that the same result is</span>
<span class=sd>            returned despite of the state of the underlying file object. This</span>
<span class=sd>            is useful if you want the ``.data`` property to continue working</span>
<span class=sd>            after having ``.read()`` the file object. (Overridden if ``amt`` is</span>
<span class=sd>            set.)</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_init_decoder</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>decode_content</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>decode_content</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>decode_content</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=n>flush_decoder</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=n>fp_closed</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>,</span> <span class=s2>&quot;closed&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>

        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_error_catcher</span><span class=p>():</span>
            <span class=k>if</span> <span class=n>amt</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
                <span class=c1># cStringIO doesn&#39;t like amt=None</span>
                <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>read</span><span class=p>()</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>fp_closed</span> <span class=k>else</span> <span class=sa>b</span><span class=s2>&quot;&quot;</span>
                <span class=n>flush_decoder</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>cache_content</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>amt</span><span class=p>)</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>fp_closed</span> <span class=k>else</span> <span class=sa>b</span><span class=s2>&quot;&quot;</span>
                <span class=k>if</span> <span class=p>(</span>
                    <span class=n>amt</span> <span class=o>!=</span> <span class=mi>0</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>data</span>
                <span class=p>):</span>  <span class=c1># Platform-specific: Buggy versions of Python.</span>
                    <span class=c1># Close the connection when no data is returned</span>
                    <span class=c1>#</span>
                    <span class=c1># This is redundant to what httplib/http.client _should_</span>
                    <span class=c1># already do.  However, versions of python released before</span>
                    <span class=c1># December 15, 2012 (http://bugs.python.org/issue16298) do</span>
                    <span class=c1># not properly close the connection in all cases. There is</span>
                    <span class=c1># no harm in redundantly calling close.</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
                    <span class=n>flush_decoder</span> <span class=o>=</span> <span class=kc>True</span>
                    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>enforce_content_length</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>length_remaining</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>(</span>
                        <span class=mi>0</span><span class=p>,</span>
                        <span class=kc>None</span><span class=p>,</span>
                    <span class=p>):</span>
                        <span class=c1># This is an edge case that httplib failed to cover due</span>
                        <span class=c1># to concerns of backward compatibility. We&#39;re</span>
                        <span class=c1># addressing it here to make sure IncompleteRead is</span>
                        <span class=c1># raised during streaming, so all calls with incorrect</span>
                        <span class=c1># Content-Length are caught.</span>
                        <span class=k>raise</span> <span class=n>IncompleteRead</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp_bytes_read</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>length_remaining</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>data</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_fp_bytes_read</span> <span class=o>+=</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>length_remaining</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>length_remaining</span> <span class=o>-=</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

            <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decode</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>decode_content</span><span class=p>,</span> <span class=n>flush_decoder</span><span class=p>)</span>

            <span class=k>if</span> <span class=n>cache_content</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_body</span> <span class=o>=</span> <span class=n>data</span>

        <span class=k>return</span> <span class=n>data</span>

    <span class=k>def</span><span class=w> </span><span class=nf>stream</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amt</span><span class=o>=</span><span class=mi>2</span> <span class=o>**</span> <span class=mi>16</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        A generator wrapper for the read() method. A call will block until</span>
<span class=sd>        ``amt`` bytes have been read from the connection or until the</span>
<span class=sd>        connection is closed.</span>

<span class=sd>        :param amt:</span>
<span class=sd>            How much of the content to read. The generator will return up to</span>
<span class=sd>            much data per iteration, but may return less. This is particularly</span>
<span class=sd>            likely when using compressed data. However, the empty string will</span>
<span class=sd>            never be returned.</span>

<span class=sd>        :param decode_content:</span>
<span class=sd>            If True, will attempt to decode the body based on the</span>
<span class=sd>            &#39;content-encoding&#39; header.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunked</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>supports_chunked_reads</span><span class=p>():</span>
            <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>read_chunked</span><span class=p>(</span><span class=n>amt</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=n>decode_content</span><span class=p>):</span>
                <span class=k>yield</span> <span class=n>line</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>while</span> <span class=ow>not</span> <span class=n>is_fp_closed</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>):</span>
                <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>amt</span><span class=o>=</span><span class=n>amt</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=n>decode_content</span><span class=p>)</span>

                <span class=k>if</span> <span class=n>data</span><span class=p>:</span>
                    <span class=k>yield</span> <span class=n>data</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>from_httplib</span><span class=p>(</span><span class=n>ResponseCls</span><span class=p>,</span> <span class=n>r</span><span class=p>,</span> <span class=o>**</span><span class=n>response_kw</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Given an :class:`http.client.HTTPResponse` instance ``r``, return a</span>
<span class=sd>        corresponding :class:`urllib3.response.HTTPResponse` object.</span>

<span class=sd>        Remaining parameters are passed to the HTTPResponse constructor, along</span>
<span class=sd>        with ``original_response=r``.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>headers</span> <span class=o>=</span> <span class=n>r</span><span class=o>.</span><span class=n>msg</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>headers</span><span class=p>,</span> <span class=n>HTTPHeaderDict</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>six</span><span class=o>.</span><span class=n>PY2</span><span class=p>:</span>
                <span class=c1># Python 2.7</span>
                <span class=n>headers</span> <span class=o>=</span> <span class=n>HTTPHeaderDict</span><span class=o>.</span><span class=n>from_httplib</span><span class=p>(</span><span class=n>headers</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>headers</span> <span class=o>=</span> <span class=n>HTTPHeaderDict</span><span class=p>(</span><span class=n>headers</span><span class=o>.</span><span class=n>items</span><span class=p>())</span>

        <span class=c1># HTTPResponse objects in Python 3 don&#39;t have a .strict attribute</span>
        <span class=n>strict</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>r</span><span class=p>,</span> <span class=s2>&quot;strict&quot;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>resp</span> <span class=o>=</span> <span class=n>ResponseCls</span><span class=p>(</span>
            <span class=n>body</span><span class=o>=</span><span class=n>r</span><span class=p>,</span>
            <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>,</span>
            <span class=n>status</span><span class=o>=</span><span class=n>r</span><span class=o>.</span><span class=n>status</span><span class=p>,</span>
            <span class=n>version</span><span class=o>=</span><span class=n>r</span><span class=o>.</span><span class=n>version</span><span class=p>,</span>
            <span class=n>reason</span><span class=o>=</span><span class=n>r</span><span class=o>.</span><span class=n>reason</span><span class=p>,</span>
            <span class=n>strict</span><span class=o>=</span><span class=n>strict</span><span class=p>,</span>
            <span class=n>original_response</span><span class=o>=</span><span class=n>r</span><span class=p>,</span>
            <span class=o>**</span><span class=n>response_kw</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=n>resp</span>

    <span class=c1># Backwards-compatibility methods for http.client.HTTPResponse</span>
    <span class=k>def</span><span class=w> </span><span class=nf>getheaders</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>headers</span>

    <span class=k>def</span><span class=w> </span><span class=nf>getheader</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>default</span><span class=p>)</span>

    <span class=c1># Backwards compatibility for http.cookiejar</span>
    <span class=k>def</span><span class=w> </span><span class=nf>info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>headers</span>

    <span class=c1># Overrides from io.IOBase</span>
    <span class=k>def</span><span class=w> </span><span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>closed</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_connection</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>auto_close</span><span class=p>:</span>
            <span class=n>io</span><span class=o>.</span><span class=n>IOBase</span><span class=o>.</span><span class=n>close</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>closed</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>auto_close</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>io</span><span class=o>.</span><span class=n>IOBase</span><span class=o>.</span><span class=n>closed</span><span class=o>.</span><span class=fm>__get__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>
        <span class=k>elif</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>,</span> <span class=s2>&quot;isclosed&quot;</span><span class=p>):</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>isclosed</span><span class=p>()</span>
        <span class=k>elif</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>,</span> <span class=s2>&quot;closed&quot;</span><span class=p>):</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>closed</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>

    <span class=k>def</span><span class=w> </span><span class=nf>fileno</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>IOError</span><span class=p>(</span><span class=s2>&quot;HTTPResponse has no file to get a fileno from&quot;</span><span class=p>)</span>
        <span class=k>elif</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>,</span> <span class=s2>&quot;fileno&quot;</span><span class=p>):</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>fileno</span><span class=p>()</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>IOError</span><span class=p>(</span>
                <span class=s2>&quot;The file-like object this HTTPResponse is wrapped &quot;</span>
                <span class=s2>&quot;around has no file descriptor&quot;</span>
            <span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>flush</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
            <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>,</span> <span class=s2>&quot;flush&quot;</span><span class=p>)</span>
            <span class=ow>and</span> <span class=ow>not</span> <span class=nb>getattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>,</span> <span class=s2>&quot;closed&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
        <span class=p>):</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>readable</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># This method is required for `io` module compatibility.</span>
        <span class=k>return</span> <span class=kc>True</span>

    <span class=k>def</span><span class=w> </span><span class=nf>readinto</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
        <span class=c1># This method is required for `io` module compatibility.</span>
        <span class=n>temp</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>b</span><span class=p>))</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>temp</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=mi>0</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>b</span><span class=p>[:</span> <span class=nb>len</span><span class=p>(</span><span class=n>temp</span><span class=p>)]</span> <span class=o>=</span> <span class=n>temp</span>
            <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>temp</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>supports_chunked_reads</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Checks if the underlying file-like object looks like a</span>
<span class=sd>        :class:`http.client.HTTPResponse` object. We do this by testing for</span>
<span class=sd>        the fp attribute. If it is present we assume it returns raw chunks as</span>
<span class=sd>        processed by read_chunked().</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>,</span> <span class=s2>&quot;fp&quot;</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_update_chunk_length</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># First, we&#39;ll figure out length of a chunk and then</span>
        <span class=c1># we&#39;ll try to read it from socket.</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span>
        <span class=n>line</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>fp</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span>
        <span class=n>line</span> <span class=o>=</span> <span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa>b</span><span class=s2>&quot;;&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>line</span><span class=p>,</span> <span class=mi>16</span><span class=p>)</span>
        <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
            <span class=c1># Invalid chunked protocol response, abort.</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
            <span class=k>raise</span> <span class=n>InvalidChunkLength</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>line</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_handle_chunk</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amt</span><span class=p>):</span>
        <span class=n>returned_chunk</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=k>if</span> <span class=n>amt</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>chunk</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>_safe_read</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span><span class=p>)</span>
            <span class=n>returned_chunk</span> <span class=o>=</span> <span class=n>chunk</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>_safe_read</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>  <span class=c1># Toss the CRLF at the end of the chunk.</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=k>elif</span> <span class=n>amt</span> <span class=o>&lt;</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span><span class=p>:</span>
            <span class=n>value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>_safe_read</span><span class=p>(</span><span class=n>amt</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=o>-</span> <span class=n>amt</span>
            <span class=n>returned_chunk</span> <span class=o>=</span> <span class=n>value</span>
        <span class=k>elif</span> <span class=n>amt</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span><span class=p>:</span>
            <span class=n>value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>_safe_read</span><span class=p>(</span><span class=n>amt</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>_safe_read</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>  <span class=c1># Toss the CRLF at the end of the chunk.</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=o>=</span> <span class=kc>None</span>
            <span class=n>returned_chunk</span> <span class=o>=</span> <span class=n>value</span>
        <span class=k>else</span><span class=p>:</span>  <span class=c1># amt &gt; self.chunk_left</span>
            <span class=n>returned_chunk</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>_safe_read</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>_safe_read</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>  <span class=c1># Toss the CRLF at the end of the chunk.</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=k>return</span> <span class=n>returned_chunk</span>

    <span class=k>def</span><span class=w> </span><span class=nf>read_chunked</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amt</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Similar to :meth:`HTTPResponse.read`, but with an additional</span>
<span class=sd>        parameter: ``decode_content``.</span>

<span class=sd>        :param amt:</span>
<span class=sd>            How much of the content to read. If specified, caching is skipped</span>
<span class=sd>            because it doesn&#39;t make sense to cache partial content as the full</span>
<span class=sd>            response.</span>

<span class=sd>        :param decode_content:</span>
<span class=sd>            If True, will attempt to decode the body based on the</span>
<span class=sd>            &#39;content-encoding&#39; header.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_init_decoder</span><span class=p>()</span>
        <span class=c1># FIXME: Rewrite this method and make it a class with a better structured logic.</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunked</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>ResponseNotChunked</span><span class=p>(</span>
                <span class=s2>&quot;Response is not chunked. &quot;</span>
                <span class=s2>&quot;Header &#39;transfer-encoding: chunked&#39; is missing.&quot;</span>
            <span class=p>)</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>supports_chunked_reads</span><span class=p>():</span>
            <span class=k>raise</span> <span class=n>BodyNotHttplibCompatible</span><span class=p>(</span>
                <span class=s2>&quot;Body should be http.client.HTTPResponse like. &quot;</span>
                <span class=s2>&quot;It should have have an fp attribute which returns raw chunks.&quot;</span>
            <span class=p>)</span>

        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_error_catcher</span><span class=p>():</span>
            <span class=c1># Don&#39;t bother reading the body of a HEAD request.</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span> <span class=ow>and</span> <span class=n>is_response_to_head</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=p>):</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
                <span class=k>return</span>

            <span class=c1># If a response is already read and closed</span>
            <span class=c1># then return immediately.</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>fp</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
                <span class=k>return</span>

            <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_update_chunk_length</span><span class=p>()</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                    <span class=k>break</span>
                <span class=n>chunk</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_handle_chunk</span><span class=p>(</span><span class=n>amt</span><span class=p>)</span>
                <span class=n>decoded</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decode</span><span class=p>(</span>
                    <span class=n>chunk</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=n>decode_content</span><span class=p>,</span> <span class=n>flush_decoder</span><span class=o>=</span><span class=kc>False</span>
                <span class=p>)</span>
                <span class=k>if</span> <span class=n>decoded</span><span class=p>:</span>
                    <span class=k>yield</span> <span class=n>decoded</span>

            <span class=k>if</span> <span class=n>decode_content</span><span class=p>:</span>
                <span class=c1># On CPython and PyPy, we should never need to flush the</span>
                <span class=c1># decoder. However, on Jython we *might* need to, so</span>
                <span class=c1># lets defensively do it anyway.</span>
                <span class=n>decoded</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_flush_decoder</span><span class=p>()</span>
                <span class=k>if</span> <span class=n>decoded</span><span class=p>:</span>  <span class=c1># Platform-specific: Jython.</span>
                    <span class=k>yield</span> <span class=n>decoded</span>

            <span class=c1># Chunk content ends with \r\n: discard it.</span>
            <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
                <span class=n>line</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>fp</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span>
                <span class=k>if</span> <span class=ow>not</span> <span class=n>line</span><span class=p>:</span>
                    <span class=c1># Some sites may not end with &#39;\r\n&#39;.</span>
                    <span class=k>break</span>
                <span class=k>if</span> <span class=n>line</span> <span class=o>==</span> <span class=sa>b</span><span class=s2>&quot;</span><span class=se>\r\n</span><span class=s2>&quot;</span><span class=p>:</span>
                    <span class=k>break</span>

            <span class=c1># We read everything; close the &quot;file&quot;.</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>geturl</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Returns the URL that was the source of this response.</span>
<span class=sd>        If the request that generated this response redirected, this method</span>
<span class=sd>        will return the final redirect location.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>retries</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>retries</span><span class=o>.</span><span class=n>history</span><span class=p>):</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>retries</span><span class=o>.</span><span class=n>history</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>redirect_location</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_request_url</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>buffer</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=k>for</span> <span class=n>chunk</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>decode_content</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
            <span class=k>if</span> <span class=sa>b</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span> <span class=ow>in</span> <span class=n>chunk</span><span class=p>:</span>
                <span class=n>chunk</span> <span class=o>=</span> <span class=n>chunk</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa>b</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
                <span class=k>yield</span> <span class=sa>b</span><span class=s2>&quot;&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>buffer</span><span class=p>)</span> <span class=o>+</span> <span class=n>chunk</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=sa>b</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span>
                <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>chunk</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=p>]:</span>
                    <span class=k>yield</span> <span class=n>x</span> <span class=o>+</span> <span class=sa>b</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>&quot;</span>
                <span class=k>if</span> <span class=n>chunk</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]:</span>
                    <span class=n>buffer</span> <span class=o>=</span> <span class=p>[</span><span class=n>chunk</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]]</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>buffer</span> <span class=o>=</span> <span class=p>[]</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>buffer</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>chunk</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>buffer</span><span class=p>:</span>
            <span class=k>yield</span> <span class=sa>b</span><span class=s2>&quot;&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>buffer</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse.drain_conn class="doc doc-heading"> <code class="highlight language-python"><span class=n>drain_conn</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Read and discard any remaining HTTP response data in the response connection.</p> <p>Unread data in the HTTPResponse connection blocks the connection from being released back to the pool.</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>drain_conn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Read and discard any remaining HTTP response data in the response connection.</span>

<span class=sd>    Unread data in the HTTPResponse connection blocks the connection from being released back to the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
    <span class=k>except</span> <span class=p>(</span><span class=n>HTTPError</span><span class=p>,</span> <span class=n>SocketError</span><span class=p>,</span> <span class=n>BaseSSLError</span><span class=p>,</span> <span class=n>HTTPException</span><span class=p>):</span>
        <span class=k>pass</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse.from_httplib class="doc doc-heading"> <code class="highlight language-python"><span class=n>from_httplib</span><span class=p>(</span><span class=n>ResponseCls</span><span class=p>,</span> <span class=n>r</span><span class=p>,</span> <span class=o>**</span><span class=n>response_kw</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h3> <div class="doc doc-contents "> <p>Given an :class:<code>http.client.HTTPResponse</code> instance <code>r</code>, return a corresponding :class:<code>urllib3.response.HTTPResponse</code> object.</p> <p>Remaining parameters are passed to the HTTPResponse constructor, along with <code>original_response=r</code>.</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span>
<span class=normal>588</span>
<span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span><span class=w> </span><span class=nf>from_httplib</span><span class=p>(</span><span class=n>ResponseCls</span><span class=p>,</span> <span class=n>r</span><span class=p>,</span> <span class=o>**</span><span class=n>response_kw</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Given an :class:`http.client.HTTPResponse` instance ``r``, return a</span>
<span class=sd>    corresponding :class:`urllib3.response.HTTPResponse` object.</span>

<span class=sd>    Remaining parameters are passed to the HTTPResponse constructor, along</span>
<span class=sd>    with ``original_response=r``.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>headers</span> <span class=o>=</span> <span class=n>r</span><span class=o>.</span><span class=n>msg</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>headers</span><span class=p>,</span> <span class=n>HTTPHeaderDict</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>six</span><span class=o>.</span><span class=n>PY2</span><span class=p>:</span>
            <span class=c1># Python 2.7</span>
            <span class=n>headers</span> <span class=o>=</span> <span class=n>HTTPHeaderDict</span><span class=o>.</span><span class=n>from_httplib</span><span class=p>(</span><span class=n>headers</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>headers</span> <span class=o>=</span> <span class=n>HTTPHeaderDict</span><span class=p>(</span><span class=n>headers</span><span class=o>.</span><span class=n>items</span><span class=p>())</span>

    <span class=c1># HTTPResponse objects in Python 3 don&#39;t have a .strict attribute</span>
    <span class=n>strict</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>r</span><span class=p>,</span> <span class=s2>&quot;strict&quot;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
    <span class=n>resp</span> <span class=o>=</span> <span class=n>ResponseCls</span><span class=p>(</span>
        <span class=n>body</span><span class=o>=</span><span class=n>r</span><span class=p>,</span>
        <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>,</span>
        <span class=n>status</span><span class=o>=</span><span class=n>r</span><span class=o>.</span><span class=n>status</span><span class=p>,</span>
        <span class=n>version</span><span class=o>=</span><span class=n>r</span><span class=o>.</span><span class=n>version</span><span class=p>,</span>
        <span class=n>reason</span><span class=o>=</span><span class=n>r</span><span class=o>.</span><span class=n>reason</span><span class=p>,</span>
        <span class=n>strict</span><span class=o>=</span><span class=n>strict</span><span class=p>,</span>
        <span class=n>original_response</span><span class=o>=</span><span class=n>r</span><span class=p>,</span>
        <span class=o>**</span><span class=n>response_kw</span>
    <span class=p>)</span>
    <span class=k>return</span> <span class=n>resp</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse.get_redirect_location class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_redirect_location</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Should we redirect and where to?</p> <p>:returns: Truthy redirect location string if we got a redirect status code and valid location. <code>None</code> if redirect status and no location. <code>False</code> if not a redirect status code.</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_redirect_location</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Should we redirect and where to?</span>

<span class=sd>    :returns: Truthy redirect location string if we got a redirect status</span>
<span class=sd>        code and valid location. ``None`` if redirect status and no</span>
<span class=sd>        location. ``False`` if not a redirect status code.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>status</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>REDIRECT_STATUSES</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;location&quot;</span><span class=p>)</span>

    <span class=k>return</span> <span class=kc>False</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse.geturl class="doc doc-heading"> <code class="highlight language-python"><span class=n>geturl</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Returns the URL that was the source of this response. If the request that generated this response redirected, this method will return the final redirect location.</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>795</span>
<span class=normal>796</span>
<span class=normal>797</span>
<span class=normal>798</span>
<span class=normal>799</span>
<span class=normal>800</span>
<span class=normal>801</span>
<span class=normal>802</span>
<span class=normal>803</span>
<span class=normal>804</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>geturl</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Returns the URL that was the source of this response.</span>
<span class=sd>    If the request that generated this response redirected, this method</span>
<span class=sd>    will return the final redirect location.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>retries</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>retries</span><span class=o>.</span><span class=n>history</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>retries</span><span class=o>.</span><span class=n>history</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>redirect_location</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_request_url</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse.read class="doc doc-heading"> <code class="highlight language-python"><span class=n>read</span><span class=p>(</span><span class=n>amt</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>cache_content</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Similar to :meth:<code>http.client.HTTPResponse.read</code>, but with two additional parameters: <code>decode_content</code> and <code>cache_content</code>.</p> <p>:param amt: How much of the content to read. If specified, caching is skipped because it doesn't make sense to cache partial content as the full response.</p> <p>:param decode_content: If True, will attempt to decode the body based on the 'content-encoding' header.</p> <p>:param cache_content: If True, will save the returned data such that the same result is returned despite of the state of the underlying file object. This is useful if you want the <code>.data</code> property to continue working after having <code>.read()</code> the file object. (Overridden if <code>amt</code> is set.)</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>read</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amt</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>cache_content</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Similar to :meth:`http.client.HTTPResponse.read`, but with two additional</span>
<span class=sd>    parameters: ``decode_content`` and ``cache_content``.</span>

<span class=sd>    :param amt:</span>
<span class=sd>        How much of the content to read. If specified, caching is skipped</span>
<span class=sd>        because it doesn&#39;t make sense to cache partial content as the full</span>
<span class=sd>        response.</span>

<span class=sd>    :param decode_content:</span>
<span class=sd>        If True, will attempt to decode the body based on the</span>
<span class=sd>        &#39;content-encoding&#39; header.</span>

<span class=sd>    :param cache_content:</span>
<span class=sd>        If True, will save the returned data such that the same result is</span>
<span class=sd>        returned despite of the state of the underlying file object. This</span>
<span class=sd>        is useful if you want the ``.data`` property to continue working</span>
<span class=sd>        after having ``.read()`` the file object. (Overridden if ``amt`` is</span>
<span class=sd>        set.)</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_init_decoder</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>decode_content</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>decode_content</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>decode_content</span>

    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=n>flush_decoder</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=n>fp_closed</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>,</span> <span class=s2>&quot;closed&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>

    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_error_catcher</span><span class=p>():</span>
        <span class=k>if</span> <span class=n>amt</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=c1># cStringIO doesn&#39;t like amt=None</span>
            <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>read</span><span class=p>()</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>fp_closed</span> <span class=k>else</span> <span class=sa>b</span><span class=s2>&quot;&quot;</span>
            <span class=n>flush_decoder</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>cache_content</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>amt</span><span class=p>)</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>fp_closed</span> <span class=k>else</span> <span class=sa>b</span><span class=s2>&quot;&quot;</span>
            <span class=k>if</span> <span class=p>(</span>
                <span class=n>amt</span> <span class=o>!=</span> <span class=mi>0</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>data</span>
            <span class=p>):</span>  <span class=c1># Platform-specific: Buggy versions of Python.</span>
                <span class=c1># Close the connection when no data is returned</span>
                <span class=c1>#</span>
                <span class=c1># This is redundant to what httplib/http.client _should_</span>
                <span class=c1># already do.  However, versions of python released before</span>
                <span class=c1># December 15, 2012 (http://bugs.python.org/issue16298) do</span>
                <span class=c1># not properly close the connection in all cases. There is</span>
                <span class=c1># no harm in redundantly calling close.</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
                <span class=n>flush_decoder</span> <span class=o>=</span> <span class=kc>True</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>enforce_content_length</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>length_remaining</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>(</span>
                    <span class=mi>0</span><span class=p>,</span>
                    <span class=kc>None</span><span class=p>,</span>
                <span class=p>):</span>
                    <span class=c1># This is an edge case that httplib failed to cover due</span>
                    <span class=c1># to concerns of backward compatibility. We&#39;re</span>
                    <span class=c1># addressing it here to make sure IncompleteRead is</span>
                    <span class=c1># raised during streaming, so all calls with incorrect</span>
                    <span class=c1># Content-Length are caught.</span>
                    <span class=k>raise</span> <span class=n>IncompleteRead</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp_bytes_read</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>length_remaining</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>data</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_fp_bytes_read</span> <span class=o>+=</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>length_remaining</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>length_remaining</span> <span class=o>-=</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

        <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decode</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>decode_content</span><span class=p>,</span> <span class=n>flush_decoder</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>cache_content</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_body</span> <span class=o>=</span> <span class=n>data</span>

    <span class=k>return</span> <span class=n>data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse.read_chunked class="doc doc-heading"> <code class="highlight language-python"><span class=n>read_chunked</span><span class=p>(</span><span class=n>amt</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Similar to :meth:<code>HTTPResponse.read</code>, but with an additional parameter: <code>decode_content</code>.</p> <p>:param amt: How much of the content to read. If specified, caching is skipped because it doesn't make sense to cache partial content as the full response.</p> <p>:param decode_content: If True, will attempt to decode the body based on the 'content-encoding' header.</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>725</span>
<span class=normal>726</span>
<span class=normal>727</span>
<span class=normal>728</span>
<span class=normal>729</span>
<span class=normal>730</span>
<span class=normal>731</span>
<span class=normal>732</span>
<span class=normal>733</span>
<span class=normal>734</span>
<span class=normal>735</span>
<span class=normal>736</span>
<span class=normal>737</span>
<span class=normal>738</span>
<span class=normal>739</span>
<span class=normal>740</span>
<span class=normal>741</span>
<span class=normal>742</span>
<span class=normal>743</span>
<span class=normal>744</span>
<span class=normal>745</span>
<span class=normal>746</span>
<span class=normal>747</span>
<span class=normal>748</span>
<span class=normal>749</span>
<span class=normal>750</span>
<span class=normal>751</span>
<span class=normal>752</span>
<span class=normal>753</span>
<span class=normal>754</span>
<span class=normal>755</span>
<span class=normal>756</span>
<span class=normal>757</span>
<span class=normal>758</span>
<span class=normal>759</span>
<span class=normal>760</span>
<span class=normal>761</span>
<span class=normal>762</span>
<span class=normal>763</span>
<span class=normal>764</span>
<span class=normal>765</span>
<span class=normal>766</span>
<span class=normal>767</span>
<span class=normal>768</span>
<span class=normal>769</span>
<span class=normal>770</span>
<span class=normal>771</span>
<span class=normal>772</span>
<span class=normal>773</span>
<span class=normal>774</span>
<span class=normal>775</span>
<span class=normal>776</span>
<span class=normal>777</span>
<span class=normal>778</span>
<span class=normal>779</span>
<span class=normal>780</span>
<span class=normal>781</span>
<span class=normal>782</span>
<span class=normal>783</span>
<span class=normal>784</span>
<span class=normal>785</span>
<span class=normal>786</span>
<span class=normal>787</span>
<span class=normal>788</span>
<span class=normal>789</span>
<span class=normal>790</span>
<span class=normal>791</span>
<span class=normal>792</span>
<span class=normal>793</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>read_chunked</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amt</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Similar to :meth:`HTTPResponse.read`, but with an additional</span>
<span class=sd>    parameter: ``decode_content``.</span>

<span class=sd>    :param amt:</span>
<span class=sd>        How much of the content to read. If specified, caching is skipped</span>
<span class=sd>        because it doesn&#39;t make sense to cache partial content as the full</span>
<span class=sd>        response.</span>

<span class=sd>    :param decode_content:</span>
<span class=sd>        If True, will attempt to decode the body based on the</span>
<span class=sd>        &#39;content-encoding&#39; header.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_init_decoder</span><span class=p>()</span>
    <span class=c1># FIXME: Rewrite this method and make it a class with a better structured logic.</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunked</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>ResponseNotChunked</span><span class=p>(</span>
            <span class=s2>&quot;Response is not chunked. &quot;</span>
            <span class=s2>&quot;Header &#39;transfer-encoding: chunked&#39; is missing.&quot;</span>
        <span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>supports_chunked_reads</span><span class=p>():</span>
        <span class=k>raise</span> <span class=n>BodyNotHttplibCompatible</span><span class=p>(</span>
            <span class=s2>&quot;Body should be http.client.HTTPResponse like. &quot;</span>
            <span class=s2>&quot;It should have have an fp attribute which returns raw chunks.&quot;</span>
        <span class=p>)</span>

    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_error_catcher</span><span class=p>():</span>
        <span class=c1># Don&#39;t bother reading the body of a HEAD request.</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span> <span class=ow>and</span> <span class=n>is_response_to_head</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
            <span class=k>return</span>

        <span class=c1># If a response is already read and closed</span>
        <span class=c1># then return immediately.</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>fp</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_update_chunk_length</span><span class=p>()</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunk_left</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                <span class=k>break</span>
            <span class=n>chunk</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_handle_chunk</span><span class=p>(</span><span class=n>amt</span><span class=p>)</span>
            <span class=n>decoded</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decode</span><span class=p>(</span>
                <span class=n>chunk</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=n>decode_content</span><span class=p>,</span> <span class=n>flush_decoder</span><span class=o>=</span><span class=kc>False</span>
            <span class=p>)</span>
            <span class=k>if</span> <span class=n>decoded</span><span class=p>:</span>
                <span class=k>yield</span> <span class=n>decoded</span>

        <span class=k>if</span> <span class=n>decode_content</span><span class=p>:</span>
            <span class=c1># On CPython and PyPy, we should never need to flush the</span>
            <span class=c1># decoder. However, on Jython we *might* need to, so</span>
            <span class=c1># lets defensively do it anyway.</span>
            <span class=n>decoded</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_flush_decoder</span><span class=p>()</span>
            <span class=k>if</span> <span class=n>decoded</span><span class=p>:</span>  <span class=c1># Platform-specific: Jython.</span>
                <span class=k>yield</span> <span class=n>decoded</span>

        <span class=c1># Chunk content ends with \r\n: discard it.</span>
        <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
            <span class=n>line</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=o>.</span><span class=n>fp</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>line</span><span class=p>:</span>
                <span class=c1># Some sites may not end with &#39;\r\n&#39;.</span>
                <span class=k>break</span>
            <span class=k>if</span> <span class=n>line</span> <span class=o>==</span> <span class=sa>b</span><span class=s2>&quot;</span><span class=se>\r\n</span><span class=s2>&quot;</span><span class=p>:</span>
                <span class=k>break</span>

        <span class=c1># We read everything; close the &quot;file&quot;.</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_original_response</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse.stream class="doc doc-heading"> <code class="highlight language-python"><span class=n>stream</span><span class=p>(</span><span class=n>amt</span><span class=o>=</span><span class=mi>2</span> <span class=o>**</span> <span class=mi>16</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>A generator wrapper for the read() method. A call will block until <code>amt</code> bytes have been read from the connection or until the connection is closed.</p> <p>:param amt: How much of the content to read. The generator will return up to much data per iteration, but may return less. This is particularly likely when using compressed data. However, the empty string will never be returned.</p> <p>:param decode_content: If True, will attempt to decode the body based on the 'content-encoding' header.</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>stream</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>amt</span><span class=o>=</span><span class=mi>2</span> <span class=o>**</span> <span class=mi>16</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    A generator wrapper for the read() method. A call will block until</span>
<span class=sd>    ``amt`` bytes have been read from the connection or until the</span>
<span class=sd>    connection is closed.</span>

<span class=sd>    :param amt:</span>
<span class=sd>        How much of the content to read. The generator will return up to</span>
<span class=sd>        much data per iteration, but may return less. This is particularly</span>
<span class=sd>        likely when using compressed data. However, the empty string will</span>
<span class=sd>        never be returned.</span>

<span class=sd>    :param decode_content:</span>
<span class=sd>        If True, will attempt to decode the body based on the</span>
<span class=sd>        &#39;content-encoding&#39; header.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>chunked</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>supports_chunked_reads</span><span class=p>():</span>
        <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>read_chunked</span><span class=p>(</span><span class=n>amt</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=n>decode_content</span><span class=p>):</span>
            <span class=k>yield</span> <span class=n>line</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>while</span> <span class=ow>not</span> <span class=n>is_fp_closed</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>):</span>
            <span class=n>data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>amt</span><span class=o>=</span><span class=n>amt</span><span class=p>,</span> <span class=n>decode_content</span><span class=o>=</span><span class=n>decode_content</span><span class=p>)</span>

            <span class=k>if</span> <span class=n>data</span><span class=p>:</span>
                <span class=k>yield</span> <span class=n>data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse.supports_chunked_reads class="doc doc-heading"> <code class="highlight language-python"><span class=n>supports_chunked_reads</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Checks if the underlying file-like object looks like a :class:<code>http.client.HTTPResponse</code> object. We do this by testing for the fp attribute. If it is present we assume it returns raw chunks as processed by read_chunked().</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>680</span>
<span class=normal>681</span>
<span class=normal>682</span>
<span class=normal>683</span>
<span class=normal>684</span>
<span class=normal>685</span>
<span class=normal>686</span>
<span class=normal>687</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>supports_chunked_reads</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Checks if the underlying file-like object looks like a</span>
<span class=sd>    :class:`http.client.HTTPResponse` object. We do this by testing for</span>
<span class=sd>    the fp attribute. If it is present we assume it returns raw chunks as</span>
<span class=sd>    processed by read_chunked().</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_fp</span><span class=p>,</span> <span class=s2>&quot;fp&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_fusion.vendor.urllib3.response.HTTPResponse.tell class="doc doc-heading"> <code class="highlight language-python"><span class=n>tell</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Obtain the number of bytes pulled over the wire so far. May differ from the amount of content returned by :meth:<code>urllib3.response.HTTPResponse.read</code> if bytes are encoded on the wire (e.g, compressed).</p> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>tell</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Obtain the number of bytes pulled over the wire so far. May differ from</span>
<span class=sd>    the amount of content returned by :meth:``urllib3.response.HTTPResponse.read``</span>
<span class=sd>    if bytes are encoded on the wire (e.g, compressed).</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_fp_bytes_read</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_fusion.vendor.urllib3.response.MultiDecoder class="doc doc-heading"> <code>MultiDecoder</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=object>object</span></code></p> <details class=from-rfc7231 open> <summary>From RFC7231</summary> <p>If one or more encodings have been applied to a representation, the sender that applied the encodings MUST generate a Content-Encoding header field that lists the content codings in the order in which they were applied.</p> </details> <details class=quote> <summary>Source code in <code>client/ayon_fusion/vendor/urllib3/response.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>MultiDecoder</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    From RFC7231:</span>
<span class=sd>        If one or more encodings have been applied to a representation, the</span>
<span class=sd>        sender that applied the encodings MUST generate a Content-Encoding</span>
<span class=sd>        header field that lists the content codings in the order in which</span>
<span class=sd>        they were applied.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>modes</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_decoders</span> <span class=o>=</span> <span class=p>[</span><span class=n>_get_decoder</span><span class=p>(</span><span class=n>m</span><span class=o>.</span><span class=n>strip</span><span class=p>())</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>modes</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;,&quot;</span><span class=p>)]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>flush</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_decoders</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>decompress</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
        <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=nb>reversed</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_decoders</span><span class=p>):</span>
            <span class=n>data</span> <span class=o>=</span> <span class=n>d</span><span class=o>.</span><span class=n>decompress</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>data</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.sections", "navigation.path", "navigation.prune"], "search": "../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>